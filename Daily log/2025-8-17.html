ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã¯ï¼Ÿ

é–¢æ•°ã«æ¸¡ã™é–¢æ•°ã®ã“ã¨ã€‚

ã‚ã‚‹å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚‰ã€Œã“ã®é–¢æ•°ã‚’å‘¼ã‚“ã§ã­ã€ã¨æ¸¡ã™ä½¿ã„æ–¹ã‚’ã—ã¾ã™ã€‚

ä¾‹ï¼š

setTimeout(() => {
console.log("3ç§’å¾Œã«å®Ÿè¡Œï¼");
}, 3000);


ã“ã“ã§ã¯ () => { console.log(...) } ãŒã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã€‚

2. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ã¨ã¯ï¼Ÿ

éåŒæœŸå‡¦ç†ã‚’é †ç•ªã«ãŸãã•ã‚“æ›¸ãã¨ãã«ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æ¬¡ã€…ã«å…¥ã‚Œå­ã«ã—ã¦ã—ã¾ã„ã€
ã‚³ãƒ¼ãƒ‰ãŒå³ã«ã©ã‚“ã©ã‚“æ·±ããªã£ã¦èª­ã¿ã«ãããªã‚‹çŠ¶æ…‹ã®ã“ã¨ã€‚

ä¾‹ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾— â†’ æŠ•ç¨¿ã‚’å–å¾— â†’ ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—
getUser(1, (user) => {
getPosts(user.id, (posts) => {
getComments(posts[0].id, (comments) => {
console.log(comments);
});
});
});


ğŸ‘‰ ãƒã‚¹ãƒˆãŒæ·±ãã¦ã€Œãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã€ã¿ãŸã„ã«å³ã«ã‚ºãƒ¬ã¦ã„ãã€‚ã“ã‚ŒãŒã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ã€‚

3. ãªãœå•é¡Œï¼Ÿ

ã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã«ãã„

ã‚¨ãƒ©ãƒ¼å‡¦ç†ãŒé›£ã—ã„

å‡¦ç†ã®é †ç•ªãŒã‚ã‹ã‚Šã¥ã‚‰ã„

4. è§£æ±ºæ–¹æ³•
ğŸ”¹ Promise ã‚’ä½¿ã†
getUser(1)
.then(user => getPosts(user.id))
.then(posts => getComments(posts[0].id))
.then(comments => console.log(comments))
.catch(err => console.error(err));

ğŸ”¹ async / await ã‚’ä½¿ã†ï¼ˆã‚‚ã£ã¨èª­ã¿ã‚„ã™ã„ï¼‰
async function main() {
try {
const user = await getUser(1);
const posts = await getPosts(user.id);
const comments = await getComments(posts[0].id);
console.log(comments);
} catch (err) {
console.error(err);
}
}

main();